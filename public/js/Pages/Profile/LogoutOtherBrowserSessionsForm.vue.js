import y from"../../Jetstream/ActionMessage.vue.js";import v from"../../Jetstream/ActionSection.vue.js";import k from"../../Jetstream/Button.vue.js";import j from"../../Jetstream/DialogModal.vue.js";import B from"../../Jetstream/Input.vue.js";import C from"../../Jetstream/InputError.vue.js";import S from"../../Jetstream/SecondaryButton.vue.js";const u={props:["sessions"],components:{JetActionMessage:y,JetActionSection:v,JetButton:k,JetDialogModal:j,JetInput:B,JetInputError:C,JetSecondaryButton:S},data(){return{confirmingLogout:!1,form:this.$inertia.form({password:""})}},methods:{confirmLogout(){this.confirmingLogout=!0,setTimeout(()=>this.$refs.password.focus(),250)},logoutOtherBrowserSessions(){this.form.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>this.closeModal(),onError:()=>this.$refs.password.focus(),onFinish:()=>this.form.reset()})},closeModal(){this.confirmingLogout=!1,this.form.reset()}}};import{createTextVNode as s,createVNode as o,renderList as b,Fragment as M,openBlock as n,createBlock as i,createCommentVNode as x,toDisplayString as l,resolveComponent as a,withCtx as t,withKeys as J}from"../../../_snowpack/pkg/vue.js";const L=s(" Browser Sessions "),V=s(" Manage and log out your active sessions on other browsers and devices. "),O=o("div",{class:"max-w-xl text-sm text-gray-600"}," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1),I={key:0,class:"mt-5 space-y-6"},N={key:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-8 h-8 text-gray-500"},D=o("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1),A={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"w-8 h-8 text-gray-500"},E=o("path",{d:"M0 0h24v24H0z",stroke:"none"},null,-1),K=o("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"},null,-1),T=o("path",{d:"M11 5h2M12 17v.01"},null,-1),F={class:"ml-3"},$={class:"text-sm text-gray-600"},z={class:"text-xs text-gray-500"},H={key:0,class:"text-green-500 font-semibold"},P={key:1},U={class:"flex items-center mt-5"},q=s(" Log Out Other Browser Sessions "),G=s(" Done. "),Q=s(" Log Out Other Browser Sessions "),R=s(" Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices. "),W={class:"mt-4"},X=s(" Cancel "),Y=s(" Log Out Other Browser Sessions ");export function render(e,c){const d=a("jet-button"),m=a("jet-action-message"),_=a("jet-input"),h=a("jet-input-error"),p=a("jet-secondary-button"),f=a("jet-dialog-modal"),g=a("jet-action-section");return n(),i(g,null,{title:t(()=>[L]),description:t(()=>[V]),content:t(()=>[O,e.sessions.length>0?(n(),i("div",I,[(n(!0),i(M,null,b(e.sessions,(r,w)=>(n(),i("div",{class:"flex items-center",key:w},[o("div",null,[r.agent.is_desktop?(n(),i("svg",N,[D])):(n(),i("svg",A,[E,K,T]))]),o("div",F,[o("div",$,l(r.agent.platform)+" - "+l(r.agent.browser),1),o("div",null,[o("div",z,[s(l(r.ip_address)+", ",1),r.is_current_device?(n(),i("span",H,"This device")):(n(),i("span",P,"Last active "+l(r.last_active),1))])])])]))),128))])):x("",!0),o("div",U,[o(d,{onClick:e.confirmLogout},{default:t(()=>[q]),_:1},8,["onClick"]),o(m,{on:e.form.recentlySuccessful,class:"ml-3"},{default:t(()=>[G]),_:1},8,["on"])]),o(f,{show:e.confirmingLogout,onClose:e.closeModal},{title:t(()=>[Q]),content:t(()=>[R,o("div",W,[o(_,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":c[1]||(c[1]=r=>e.form.password=r),onKeyup:J(e.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),o(h,{message:e.form.errors.password,class:"mt-2"},null,8,["message"])])]),footer:t(()=>[o(p,{onClick:e.closeModal},{default:t(()=>[X]),_:1},8,["onClick"]),o(d,{class:["ml-2",{"opacity-25":e.form.processing}],onClick:e.logoutOtherBrowserSessions,disabled:e.form.processing},{default:t(()=>[Y]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show","onClose"])]),_:1})}u.render=render;export default u;
