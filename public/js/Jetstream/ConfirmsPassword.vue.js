import u from"./Button.vue.js";import w from"./DialogModal.vue.js";import h from"./Input.vue.js";import g from"./InputError.vue.js";import C from"./SecondaryButton.vue.js";const d={emits:["confirmed"],props:{title:{default:"Confirm Password"},content:{default:"For your security, please confirm your password to continue."},button:{default:"Confirm"}},components:{JetButton:u,JetDialogModal:w,JetInput:h,JetInputError:g,JetSecondaryButton:C},data(){return{confirmingPassword:!1,form:{password:"",error:""}}},methods:{startConfirmingPassword(){axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?this.$emit("confirmed"):(this.confirmingPassword=!0,setTimeout(()=>this.$refs.password.focus(),250))})},confirmPassword(){this.form.processing=!0,axios.post(route("password.confirm"),{password:this.form.password}).then(()=>{this.form.processing=!1,this.closeModal(),this.$nextTick(()=>this.$emit("confirmed"))}).catch(o=>{this.form.processing=!1,this.form.error=o.response.data.errors.password[0],this.$refs.password.focus()})},closeModal(){this.confirmingPassword=!1,this.form.password="",this.form.error=""}}};import{renderSlot as _,createVNode as s,toDisplayString as i,createTextVNode as n,resolveComponent as e,withKeys as j,withCtx as t,openBlock as y,createBlock as k}from"../../_snowpack/pkg/vue.js";const P={class:"mt-4"},b=n(" Cancel ");export function render(o,r){const l=e("jet-input"),m=e("jet-input-error"),p=e("jet-secondary-button"),f=e("jet-button"),c=e("jet-dialog-modal");return y(),k("span",null,[s("span",{onClick:r[1]||(r[1]=(...a)=>o.startConfirmingPassword&&o.startConfirmingPassword(...a))},[_(o.$slots,"default")]),s(c,{show:o.confirmingPassword,onClose:o.closeModal},{title:t(()=>[n(i(o.title),1)]),content:t(()=>[n(i(o.content)+" ",1),s("div",P,[s(l,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:o.form.password,"onUpdate:modelValue":r[2]||(r[2]=a=>o.form.password=a),onKeyup:j(o.confirmPassword,["enter"])},null,8,["modelValue","onKeyup"]),s(m,{message:o.form.error,class:"mt-2"},null,8,["message"])])]),footer:t(()=>[s(p,{onClick:o.closeModal},{default:t(()=>[b]),_:1},8,["onClick"]),s(f,{class:["ml-2",{"opacity-25":o.form.processing}],onClick:o.confirmPassword,disabled:o.form.processing},{default:t(()=>[n(i(o.button),1)]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show","onClose"])])}d.render=render;export default d;
